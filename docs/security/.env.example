# SEC Filing Analysis Platform - Environment Variables Template
# Copy this file to .env and fill in actual values
# NEVER commit .env to version control

# =============================================================================
# SEC EDGAR API Configuration
# =============================================================================
# REQUIRED: User-Agent must include company name and contact email per SEC requirements
# See: https://www.sec.gov/os/accessing-edgar-data
SEC_USER_AGENT="YourCompanyName AdminEmail@yourcompany.com"
SEC_API_BASE_URL="https://data.sec.gov"
SEC_RATE_LIMIT_PER_SECOND=10
SEC_RATE_LIMIT_PER_MINUTE=600

# =============================================================================
# Database Configuration
# =============================================================================
# Primary PostgreSQL database (Supabase or self-hosted)
DATABASE_URL="postgresql://username:password@localhost:5432/sec_analysis"
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=10
DATABASE_POOL_TIMEOUT=30
DATABASE_SSL_MODE="require"

# Database encryption key (use a secrets manager in production)
DATABASE_ENCRYPTION_KEY="[REPLACE_WITH_32_BYTE_KEY_FROM_VAULT]"

# =============================================================================
# Redis Cache Configuration
# =============================================================================
REDIS_URL="redis://localhost:6379/0"
REDIS_PASSWORD="[REPLACE_WITH_STRONG_PASSWORD]"
REDIS_SSL=true
REDIS_MAX_CONNECTIONS=50
REDIS_DEFAULT_TTL=3600

# =============================================================================
# AI Model APIs
# =============================================================================
# Anthropic Claude API
ANTHROPIC_API_KEY="sk-ant-[REPLACE_WITH_ACTUAL_KEY]"
ANTHROPIC_MODEL_DEFAULT="claude-3-5-sonnet-20241022"
ANTHROPIC_MAX_TOKENS=4096
ANTHROPIC_TIMEOUT_SECONDS=30

# OpenAI API (for Mistral or other models)
OPENAI_API_KEY="sk-[REPLACE_WITH_ACTUAL_KEY]"
OPENAI_MODEL_DEFAULT="gpt-4"
OPENAI_MAX_TOKENS=4096

# Mistral AI API (if using directly)
MISTRAL_API_KEY="[REPLACE_WITH_ACTUAL_KEY]"
MISTRAL_MODEL_DEFAULT="mistral-medium"

# DeepSeek API (if available)
DEEPSEEK_API_KEY="[REPLACE_WITH_ACTUAL_KEY]"
DEEPSEEK_MODEL_DEFAULT="deepseek-coder"

# =============================================================================
# AI Model Orchestration
# =============================================================================
# Cost control
AI_COST_LIMIT_PER_HOUR=100.00
AI_COST_ALERT_THRESHOLD=75.00

# Model routing thresholds
SIMPLE_FILING_SIZE_THRESHOLD=8000  # Characters
COMPLEX_FILING_SIZE_THRESHOLD=10000

# Model timeouts
SIMPLE_MODEL_TIMEOUT=5  # seconds
COMPLEX_MODEL_TIMEOUT=20

# =============================================================================
# Celery Task Queue
# =============================================================================
CELERY_BROKER_URL="redis://localhost:6379/1"
CELERY_RESULT_BACKEND="redis://localhost:6379/2"
CELERY_WORKER_CONCURRENCY=4
CELERY_TASK_SOFT_TIME_LIMIT=300
CELERY_TASK_HARD_TIME_LIMIT=600

# =============================================================================
# Application Configuration
# =============================================================================
# Environment
ENVIRONMENT="development"  # development, staging, production
DEBUG=true
LOG_LEVEL="INFO"  # DEBUG, INFO, WARNING, ERROR, CRITICAL

# Security
SECRET_KEY="[REPLACE_WITH_RANDOM_64_CHAR_STRING]"
JWT_SECRET_KEY="[REPLACE_WITH_DIFFERENT_RANDOM_STRING]"
JWT_ACCESS_TOKEN_EXPIRES=3600  # seconds
JWT_REFRESH_TOKEN_EXPIRES=2592000  # 30 days

# Session
SESSION_COOKIE_SECURE=true
SESSION_COOKIE_HTTPONLY=true
SESSION_COOKIE_SAMESITE="Lax"

# CORS
CORS_ALLOWED_ORIGINS="http://localhost:3000,https://yourapp.com"

# =============================================================================
# Rate Limiting
# =============================================================================
# API rate limits per user
API_RATE_LIMIT_PER_MINUTE=60
API_RATE_LIMIT_PER_HOUR=1000
API_RATE_LIMIT_PER_DAY=10000

# =============================================================================
# File Storage (if using S3 or similar)
# =============================================================================
S3_BUCKET_NAME="sec-filings-analysis"
S3_REGION="us-east-1"
AWS_ACCESS_KEY_ID="[REPLACE_WITH_AWS_KEY]"
AWS_SECRET_ACCESS_KEY="[REPLACE_WITH_AWS_SECRET]"
S3_ENCRYPTION="AES256"

# =============================================================================
# Monitoring & Logging
# =============================================================================
# Sentry for error tracking (optional)
SENTRY_DSN="[REPLACE_WITH_SENTRY_DSN]"
SENTRY_ENVIRONMENT="development"
SENTRY_TRACES_SAMPLE_RATE=0.1

# Log file paths (create these directories)
LOG_FILE_PATH="/var/log/sec_analysis/app.log"
SECURITY_LOG_PATH="/var/log/sec_analysis/security.log"
AUDIT_LOG_PATH="/var/log/sec_analysis/audit.log"

# =============================================================================
# Agent Coordination (Hive Mind)
# =============================================================================
HIVE_ENABLED=true
HIVE_MAX_WORKERS=10
HIVE_MEMORY_SIZE=100
HIVE_CONSENSUS_THRESHOLD=0.67
HIVE_ENCRYPTION_ENABLED=false  # Set true in production

# =============================================================================
# Feature Flags
# =============================================================================
FEATURE_REAL_TIME_PROCESSING=true
FEATURE_BATCH_PROCESSING=true
FEATURE_NEURAL_SIGNALS=true
FEATURE_ADVANCED_ANALYTICS=true
FEATURE_EXPERIMENTAL_MODELS=false

# =============================================================================
# Testing & Development
# =============================================================================
# Test database (separate from production)
TEST_DATABASE_URL="postgresql://test_user:test_pass@localhost:5432/sec_analysis_test"

# Mock external APIs in tests
MOCK_SEC_API=true
MOCK_AI_MODELS=true

# Test data
TEST_CIK="0001318605"  # Tesla Inc. for testing
TEST_FILING_ACCESSION="0001564590-24-000001"

# =============================================================================
# Performance & Scaling
# =============================================================================
# Worker processes
WEB_CONCURRENCY=4
WORKER_PROCESSES=4
WORKER_THREADS=2

# Request timeouts
REQUEST_TIMEOUT=30
SLOW_REQUEST_THRESHOLD=5.0

# Connection pooling
DB_POOL_SIZE=20
REDIS_POOL_SIZE=50

# =============================================================================
# Backup & Recovery
# =============================================================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *"  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30
BACKUP_ENCRYPTION_KEY="[REPLACE_WITH_BACKUP_KEY]"

# =============================================================================
# Compliance & Audit
# =============================================================================
AUDIT_LOGGING_ENABLED=true
DATA_RETENTION_DAYS=90
PII_ENCRYPTION_ENABLED=true
GDPR_COMPLIANCE_MODE=false

# =============================================================================
# Email Notifications (optional)
# =============================================================================
SMTP_HOST="smtp.gmail.com"
SMTP_PORT=587
SMTP_USERNAME="noreply@yourcompany.com"
SMTP_PASSWORD="[REPLACE_WITH_SMTP_PASSWORD]"
SMTP_USE_TLS=true

ALERT_EMAIL="alerts@yourcompany.com"
ADMIN_EMAIL="admin@yourcompany.com"

# =============================================================================
# External Integrations (optional)
# =============================================================================
# Slack for notifications
SLACK_WEBHOOK_URL="[REPLACE_WITH_SLACK_WEBHOOK]"
SLACK_CHANNEL="#sec-analysis-alerts"

# PagerDuty for critical alerts
PAGERDUTY_API_KEY="[REPLACE_WITH_PAGERDUTY_KEY]"
PAGERDUTY_SERVICE_ID="[REPLACE_WITH_SERVICE_ID]"

# =============================================================================
# Development Tools
# =============================================================================
# Hot reload
HOT_RELOAD=true

# Profiling
ENABLE_PROFILING=false
PROFILE_DIR="/tmp/sec_analysis_profiles"

# Debug toolbar
DEBUG_TOOLBAR=true

# =============================================================================
# IMPORTANT SECURITY NOTES
# =============================================================================
# 1. NEVER commit this file with real values to version control
# 2. Use a secrets manager (HashiCorp Vault, AWS Secrets Manager) in production
# 3. Rotate all keys and passwords regularly (every 90 days minimum)
# 4. Use different credentials for each environment (dev, staging, prod)
# 5. Grant minimal permissions to each service
# 6. Enable MFA for all critical services
# 7. Monitor for unauthorized access attempts
# 8. Encrypt sensitive environment variables at rest
# 9. Use unique keys for each installation
# 10. Document who has access to production secrets

# =============================================================================
# SECRET GENERATION COMMANDS
# =============================================================================
# Generate random secret keys:
# Python: python -c "import secrets; print(secrets.token_urlsafe(64))"
# OpenSSL: openssl rand -base64 64
# Node: node -e "console.log(require('crypto').randomBytes(64).toString('base64'))"

# Generate encryption keys (32 bytes):
# Python: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key())"

# =============================================================================
# END OF CONFIGURATION
# =============================================================================
